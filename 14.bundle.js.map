{"version":3,"sources":["webpack:///./util/consoleOutput.js","webpack:///./components/views/dnd-debug-view.js","webpack:///./components/styles/console-styles.js"],"names":["NULLISH_COLOR","PUNC_COLOR","alphabet","createItem","o","baseLevel","inline","propName","item","document","createElement","classList","add","innerHTML","style","color","toString","Error","message","stack","appendChild","fragment","createDocumentFragment","id","Math","random","substr","toggle","label","labelText","labelTextShort","content","contentInner","type","Array","createLengthSpan","createArrayPreview","createObjectPreview","setAttribute","property","Object","keys","sort","a","b","index_a","indexOf","index_b","getOwnPropertyNames","serializedProperty","createObjectItem","span","length","index","MAXITEMSINOBJECTPREVIEW","i","MAXITEMSINARRAYPREVIEW","log","super","connectedCallback","this","logUpdateHandler","e","detail","notifySplices","removed","addedCount","object","addEventListener","resizeHandler","_adjustHeight","bind","window","setTimeout","disconnectedCallback","removeEventListener","innerWidth","inSidebar","top","$","grid","getBoundingClientRect","height","innerHeight","ready","rowDetailsRenderer","root","model","wrap","timestampCol","headerRenderer","children","wrapper","renderer","column","remove","_timestamp","timestamp","_toggleDetails","messageCol","preview","isArray","time","date","Date","getHours","getMinutes","padStart","getSeconds","getMilliseconds","detailsOpenedItems","includes","closeItemDetails","openItemDetails","customElements","define","styleElement","register"],"mappings":"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","file":"14.bundle.js","sourcesContent":["import { escapeHTML } from \"../js/utils\";\n\nconst MAXITEMSINOBJECTPREVIEW = 3;\nconst MAXITEMSINARRAYPREVIEW = 5;\n\nconst STRING_COLOR = \"var(--console-string-color)\";\nconst NUMBER_BOOL_COLOR = \"var(--console-number-color)\";\nconst OBJECT_ARRAY_COLOR = \"var(--console-object-color)\";\nconst NULLISH_COLOR =\"var(--console-nullish-color)\";\nconst PUNC_COLOR = \"var(--console-punc-color)\";\n\nconst alphabet = \"abcdefghijklmnopqrstuvwxyz0123456798*!@_.()#^&%-=+\"\n\n/**\n * https://github.com/karimayachi/html-console-output\n * Serialize an object or primitive to HTML\n * @param o The object to be serialized\n * @param baseLevel true if used as top-level element, false when used in recursive child serialization\n * @param inline true if used in preview for Array or Object\n */\nexport function createItem(o, baseLevel, inline, propName) {\n  let item = document.createElement(\"div\");\n  item.classList.add(\"console-item\");\n\n  switch (typeof o) {\n    case \"string\":\n      if (baseLevel) {\n        item.innerHTML = escapeHTML(o);\n      } else {\n        item.style.color = STRING_COLOR;\n        item.innerHTML = `\"${escapeHTML(o)}\"`;\n      }\n      break\n    case \"number\":\n    case \"boolean\":\n      item.style.color = NUMBER_BOOL_COLOR;\n      item.innerHTML = o.toString()\n      break\n    case \"object\":\n      if (o === null) {\n        item.style.color = NULLISH_COLOR;\n        item.innerHTML = \"null\"\n      } else if (o instanceof Error) {\n        if (baseLevel) {\n          item.innerHTML = escapeHTML(o.message);\n        } else {\n          item.innerHTML += `<pre>${escapeHTML(o.stack)}</pre>`;\n        }\n      } else {\n        item.style.color = OBJECT_ARRAY_COLOR;\n        if (inline) {\n          item.innerHTML = `<span style=\"color:${PUNC_COLOR}\">{&mldr;}</span>`\n        } else {\n          item.appendChild(createObjectItem(o, propName))\n        }\n      }\n      break\n    // case \"function\":\n    //   item.style.color = \"rgb(238, 151, 39)\"\n    //   item.innerHTML = \"function()\"\n    //   break\n    case \"undefined\":\n      item.style.color = \"#777\"\n      item.innerHTML = \"undefined\"\n      break\n  }\n\n  return item\n}\n\nfunction createObjectItem(o, propName) {\n  const fragment = document.createDocumentFragment()\n  const id =\n    \"u\" +\n    Math.random()\n      .toString(36)\n      .substr(2, 8)\n  const toggle = document.createElement(\"input\")\n  const label = document.createElement(\"label\")\n  const labelText = document.createElement(\"span\")\n  const labelTextShort = document.createElement(\"span\")\n  const content = document.createElement(\"div\")\n  const contentInner = document.createElement(\"div\")\n\n  content.classList.add(\"collapsible-content\")\n  contentInner.classList.add(\"content-inner\")\n\n  toggle.classList.add(\"toggle\")\n  toggle.type = \"checkbox\"\n  toggle.id = id\n\n  labelText.classList.add(\"label-text\")\n  labelTextShort.classList.add(\"label-text-short\")\n\n  if (o instanceof Array) {\n    if (propName) {\n      labelText.innerHTML = `<span style=\"font-weight:bold\">${propName}</span><span style=\"color: ${PUNC_COLOR}\">:</span> `;\n      labelTextShort.innerHTML = `<span style=\"font-weight:bold\">${propName}</span style=\"color: ${PUNC_COLOR}\"><span>:</span> `;\n    }\n    labelText.appendChild(createLengthSpan(o))\n    labelText.appendChild(createArrayPreview(o))\n    labelTextShort.appendChild(createLengthSpan(o))\n  } else {\n    if (propName) {\n      labelTextShort.innerHTML = `<span style=\"font-weight:bold\">${propName}</span><span style=\"color: ${PUNC_COLOR}\">:</span> `;\n      labelText.innerHTML = `<span style=\"font-weight:bold\">${propName}</span style=\"color: ${PUNC_COLOR}\"><span>:</span> `;\n    } else {\n      labelTextShort.appendChild(createObjectPreview(o));\n    }\n    labelText.appendChild(createObjectPreview(o));\n  }\n\n  label.classList.add('label-toggle');\n  label.setAttribute('for', id);\n  label.appendChild(labelText);\n  label.appendChild(labelTextShort);\n\n\n  for (let property of Object.keys(o).sort((a, b) => {\n      const index_a = alphabet.indexOf(a[0]),\n        index_b = alphabet.indexOf(b[0]);\n\n      if (index_a === index_b) {\n          if (a < b) {\n              return -1;\n          } else if (a > b) {\n              return 1;\n          }\n          return 0;\n      } else {\n          return index_a - index_b;\n      }\n  })) {\n    if(Object.getOwnPropertyNames(o).indexOf(property) == -1) continue;\n    const serializedProperty = document.createElement('div');\n    serializedProperty.classList.add('console-property');\n    if (typeof o[property] !== 'object') {\n      serializedProperty.innerHTML = `<span style=\"font-weight:bold\">${property}</span><span style=\"color:${PUNC_COLOR}\">: </span>`;\n    }\n    serializedProperty.appendChild(createItem(o[property], false, false, property));\n    contentInner.appendChild(serializedProperty);\n  }\n\n  // for (let property of getHiddenProperties(o)) {\n  //   const serializedProperty = document.createElement('div');\n  //   serializedProperty.classList.add('console-property');\n  //   let lockIcon = document.createElement('span');\n  //   lockIcon.classList.add('fa');\n  //   lockIcon.classList.add('fa-lock');\n  //   lockIcon.style.color = '#aaa';\n  //   serializedProperty.appendChild(lockIcon);\n  //   serializedProperty.innerHTML += ` ${property}: `;\n  //   serializedProperty.appendChild(createItem(o[property], false, false, property));\n  //   contentInner.appendChild(serializedProperty);\n  // }\n\n  // let proto = Object.getPrototypeOf(o);\n  // if (proto !== null) {\n  //   const serializedProperty = document.createElement('div');\n  //   serializedProperty.classList.add('console-property');\n  //   serializedProperty.style.color = '#777';\n  //   serializedProperty.innerHTML = '(prototype): ';\n  //   serializedProperty.appendChild(createItem(proto, false, false));\n  //   contentInner.appendChild(serializedProperty);\n  // }\n\n  content.appendChild(contentInner);\n\n  fragment.appendChild(toggle);\n  fragment.appendChild(label);\n  fragment.appendChild(content);\n\n  return fragment;\n}\n\nfunction createLengthSpan(a) {\n  const span = document.createElement(\"span\")\n  span.style.color = \"#aaa\"\n  span.innerHTML = `<span style=\"color:${NULLISH_COLOR}\">(${a.length}) </span>`\n\n  return span\n}\n\nexport function createObjectPreview(o) {\n  const fragment = document.createDocumentFragment()\n  const span = document.createElement(\"span\")\n\n  if (!!o) {\n    span.innerHTML = `<span style=\"color:${PUNC_COLOR}\">{</span>`;\n\n    let index = 0\n    for (let property in o) {\n      span.innerHTML += `<span style=\"color:${NULLISH_COLOR}\">${property}<span style=\"color:${PUNC_COLOR}\">:</span> </span>`\n      span.appendChild(createItem(o[property], false, true))\n\n      if (\n        index >= MAXITEMSINOBJECTPREVIEW - 1 ||\n        index == Object.keys(o).length - 1\n      ) {\n        break\n      }\n\n      span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">, </span>`\n      index++\n    }\n\n    if (Object.keys(o).length > MAXITEMSINOBJECTPREVIEW) {\n      span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">, &mldr;</span>`\n    }\n\n    span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">}</span>`\n  }\n  fragment.appendChild(span)\n  return fragment\n}\n\nexport function createArrayPreview(a) {\n  const fragment = document.createDocumentFragment()\n  const span = document.createElement(\"span\")\n\n  span.innerHTML = `<span style=\"color:${PUNC_COLOR}\">[</span>`;\n\n  for (let i = 0; i < MAXITEMSINARRAYPREVIEW && i < a.length; i++) {\n    span.appendChild(createItem(a[i], false, true))\n\n    if (i < a.length - 1 && i < MAXITEMSINARRAYPREVIEW - 1) {\n      span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">, </span>`\n    }\n  }\n\n  if (a.length > MAXITEMSINARRAYPREVIEW) {\n    span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">, &mldr;</span>`\n  }\n\n  span.innerHTML += `<span style=\"color:${PUNC_COLOR}\">]</span>`\n\n  fragment.appendChild(span)\n  return fragment\n}\n\nfunction getHiddenProperties(o) {\n  /* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\n   */\n  let all = Object.getOwnPropertyNames(o)\n  let enumOnly = Object.keys(o)\n\n  return all.filter(key => {\n    let index = enumOnly.indexOf(key)\n    if (index == -1) {\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","import {PolymerElement, html} from '@polymer/polymer';\nimport \"@vaadin/vaadin-grid\";\nimport \"@vaadin/vaadin-grid/vaadin-grid-column.js\";\nimport \"@vaadin/vaadin-grid/vaadin-grid-filter\";\nimport \"@vaadin/vaadin-grid/vaadin-grid-filter-column\"\nimport \"@vaadin/vaadin-grid/vaadin-grid-sorter\";\nimport { getLog, getLoggerChannel } from '../../util/logger';\nimport { cloneDeep, escapeHTML, jqEmpty } from '../../js/utils';\nimport { createArrayPreview, createItem, createObjectPreview } from '../../util/consoleOutput';\nimport '../styles/console-styles.js';\n\nclass DndDebugView extends PolymerElement {\n  static get properties() {\n    return {\n      log: {\n        type: Array,\n      },\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.logUpdateHandler = (e) => {\n      this.log = e.detail.log;\n      this.notifySplices('log', { index: e.detail.log.length - 1, removed: [], addedCount: 1, object: this.log, type: 'splice' });\n    };\n\n    this.log = getLog();\n    getLoggerChannel().addEventListener(\"log-update\", this.logUpdateHandler);\n    \n    this.resizeHandler = (() => {\n      this._adjustHeight();\n    }).bind(this);\n    window.addEventListener('resize', this.resizeHandler);\n\n    this._adjustHeight();\n    setTimeout(() => {\n      this._adjustHeight();\n    }, 500);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    getLoggerChannel().removeEventListener(\"log-update\", this.logUpdateHandler);\n    window.removeEventListener('resize', this.resizeHandler);\n  }\n\n  _adjustHeight() {\n    if (window.innerWidth < 921 || this.inSidebar) {\n      const top = this.$.grid.getBoundingClientRect().top;\n      if (top) {\n        this.$.grid.style.height = `${window.innerHeight - top}px`;\n      }\n    } else {\n      this.$.grid.style.height = `600px`;\n    }\n  }\n\n  ready() {\n    super.ready();\n    \n    this.$.grid.rowDetailsRenderer = (root, grid, model) => {\n      const item = model.item;\n      root.classList.add(\"content\")\n      root.classList.add(\"console-block\")\n      root.classList.add(\"content--expanded\")\n      root.classList.add(`content__${item.type}`);\n      jqEmpty(root);\n      for (let message of item.message) {\n        const wrap = document.createElement(\"div\");\n        wrap.classList.add(\"content__object\");\n        if (typeof message === \"object\" && !!message) {\n          wrap.appendChild(createItem(message, false, false));\n        } else {\n          wrap.innerHTML = escapeHTML(message);\n        }\n        root.appendChild(wrap);\n      }\n    };\n\n    this.$.timestampCol.headerRenderer = (root) => {\n      if (root.children.length === 0) {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add(\"heading\");\n        wrapper.innerHTML = \"Timestamp\"\n        root.appendChild(wrapper);\n      }\n    };\n    this.$.timestampCol.renderer = (root, column, model) => {\n      if (root.children.length !== 0) {\n        root.children[0].remove();\n      }\n      const item = model.item;\n      const wrapper = document.createElement('div');\n      wrapper.classList.add(\"content\");\n      wrapper.classList.add(`content__${item.type}`);\n      wrapper.innerHTML = this._timestamp(item.timestamp);\n      wrapper.addEventListener(\"click\", () => {\n        this._toggleDetails(item);\n      });\n      root.appendChild(wrapper);\n    };\n\n    this.$.messageCol.headerRenderer = (root) => {\n      if (root.children.length !== 0) {\n        root.children[0].remove();\n      }\n      const wrapper = document.createElement('div');\n      wrapper.classList.add(\"heading\");\n      wrapper.innerHTML = \"Message\"\n      root.appendChild(wrapper);\n    }\n    this.$.messageCol.renderer = (root, column, model) => {\n      if (root.children.length !== 0) {\n        root.children[0].remove();\n      }\n      const item = model.item;\n      const wrapper = document.createElement('div');\n      wrapper.classList.add(\"content\");\n      wrapper.classList.add(`content__${item.type}`);\n      wrapper.addEventListener(\"click\", () => {\n        this._toggleDetails(item);\n      });\n      for (let message of item.message) {\n        let preview;\n        if (typeof message === \"object\") {\n          if (message instanceof Error) {\n            preview = createItem(message, true, false);\n          } else if (Array.isArray(message)) {\n            preview = createArrayPreview(message);\n          } else {\n            preview = createObjectPreview(message);\n          }\n        } else {\n          preview = createItem(message, true, false);\n        }\n        wrapper.appendChild(preview);\n        wrapper.innerHTML += \" \";\n      }\n      root.appendChild(wrapper);\n    }\n  }\n\n  _timestamp(time) {\n    const date = new Date(time);\n    return `${date.getHours() > 12 ? date.getHours() - 12 : date.getHours()}:${date.getMinutes().toString().padStart(2, \"0\")}:${date.getSeconds().toString().padStart(2, \"0\")}.${date.getMilliseconds().toString().padStart(3, \"0\")}`;\n  }\n\n  _toggleDetails(item) {\n    if (this.$.grid.detailsOpenedItems.includes(item)) {\n      this.$.grid.closeItemDetails(item);\n    } else {\n      this.$.grid.openItemDetails(item);\n    }\n  }\n\n  _contentClassString(type) {\n    return `content content__${type}`;\n  }\n\n  static get template() {\n    return html`\n      <style include=\"material-styles my-styles console-styles\">\n        :host {\n          display: block;\n          width: calc(100% + 32px);\n          margin-left: -16px;\n        }\n        vaadin-select {\n          margin-left: 20px;\n          margin-bottom: 20px;\n        }\n        .content {\n          font-family: Monaco, monospace;\n          font-size: 12px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          padding: 2px 0 2px 8px;\n          margin-top: -1px;\n          border-bottom: 1px solid transparent;\n        }\n        .heading {\n          padding: 4px 8px;\n        }\n        .content__error {\n          color: var(--mdc-theme-error-text);\n          border-color: var(--mdc-theme-error-border);\n          background-color: var(--mdc-theme-error-bg);\n        }\n        .content__warn {\n          color: var(--mdc-theme-warn-text);\n          border-color: var(--mdc-theme-warn-border);\n          background-color: var(--mdc-theme-warn-bg);\n        }\n        .content--expanded {\n          padding: 10px 0 10px 20px;\n          border-top: 0;\n          margin-top: -3px;\n        }\n        .content__object {\n          overflow: scroll;\n          max-width: calc(100% - 20px);\n          margin-bottom: 8px;\n        }\n      </style>\n      \n      <vaadin-select value={{typeFilter}} label=\"Filter\">\n        <template>\n          <vaadin-list-box>\n            <vaadin-item value=\"\">None</vaadin-item>\n            <vaadin-item value=\"error\">Error</vaadin-item>\n            <vaadin-item value=\"warn\">Warn</vaadin-item>\n            <vaadin-item value=\"info\">Info</vaadin-item>\n            <vaadin-item value=\"log\">Log</vaadin-item>\n          </vaadin-list-box>\n        </template>\n      </vaadin-select>\n\n      <vaadin-grid id=\"grid\" items=\"[[log]]\" theme=\"no-border no-row-borders no-row-padding\">\n        <vaadin-grid-filter path=\"type\" value=\"[[typeFilter]]\"></vaadin-grid-filter>\n\n        <vaadin-grid-column id=\"timestampCol\" width=\"108px\" flex-grow=\"0\"></vaadin-grid-column>\n\n        <vaadin-grid-column id=\"messageCol\" flex-grow=\"1\"></vaadin-grid-column>\n      </vaadin-grid>\n    `;\n  }\n}\n\ncustomElements.define('dnd-debug-view', DndDebugView);","const styleElement = document.createElement(\"dom-module\");\n\nstyleElement.innerHTML = `\n  <template>\n    <style>\n      .console-block {\n        font-family: \"SF Mono\", \"Monaco\", \"Andale Mono\", \"Lucida Console\", \"Bitstream Vera Sans Mono\", \"Courier New\", Courier, monospace;\n        font-size: 12px;\n        line-height: 1.4em;\n      }\n\n      .console-line {\n        border-bottom: 1px solid #dddddd;\n        padding-bottom: 7px;\n        padding-top: 7px;\n      }\n\n      .console-item {\n        display: inline;\n        vertical-align: top;\n        font-weight: normal;\n      }\n\n      .error {\n        color: red !important;\n      }\n      .console-line > .console-item {\n        margin-right: 8px;\n      }\n\n      .console-block input[type='checkbox'] {\n        display: none;\n      }\n\n      .console-block .label-toggle {\n        display: block;\n        transition: all 0.25s ease-out;\n      }\n\n      .console-block .label-toggle:hover::before {\n        color: #777;\n      }\n\n      .console-block .label-toggle::before {\n        content: ' ';\n        display: inline-block;\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        border-left: 5px solid currentColor;\n        vertical-align: middle;\n        margin-right: 4px;\n        margin-top: 1px;\n        transform: translateY(-2px);\n        transition: transform .1s ease-out;\n        color: #aaa;\n      }\n\n      .console-block .collapsible-content .content-inner {\n        border-left: 1px solid #aaa;\n        margin-left: 2px;\n        padding-left: 6px;\n      }\n\n      .console-block .collapsible-content {\n        max-height: 0px;\n        overflow: hidden;\n      }\n\n      .console-block .toggle:checked+.label-toggle+.collapsible-content {\n        max-height: 4000px;\n      }\n\n      .console-block .toggle:checked+.label-toggle .label-text {\n        display: none;\n      }\n\n      .console-block .toggle+.label-toggle .label-text-short {\n        display: none;\n      }\n\n      .console-block .toggle:checked+.label-toggle .label-text-short {\n        display: inline;\n      }\n\n      .console-block .toggle:checked+.label-toggle::before {\n        transform: rotate(90deg) translateX(-3px);\n      }\n\n      .console-block .toggle:checked+.label-toggle {\n        border-bottom-right-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n      .console-block .label-text,\n      .console-block .label-text-short {\n        font-weigt: bold;\n      }\n    </style>\n  </template>\n`;\n  \nstyleElement.register(\"console-styles\");"],"sourceRoot":""}
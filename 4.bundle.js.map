{"version":3,"sources":["webpack:///./components/dnd-button.js","webpack:///./js/items.js","webpack:///./components/dnd-select-add.js","webpack:///./components/views/character/dnd-character-builder-equipment-item-detail.js"],"names":["DndButton","label","type","String","value","icon","svg","background","border","svgFill","svgStroke","setTimeout","this","button","$","i","result","fill","stroke","customElements","define","renderer","renderSelection","item","rootEl","data","makeSmall","hasParsed","noDisplay","category","undefined","entries","window","itemTypeList","j","length","push","property","properties","split","itemPropertyList","k","armor","resist","stealth","strength","scfType","adjustItem","wrap","querySelector","innerHTML","classList","add","weight","tier","rarity","reqAttune","weaponCategory","damages","damage","isLast","roll","dmgTypeToFull","dmg1","dmgType","ac","speed","capacity","carryingcapacity","append","indexOf","prop","a","name","dmg2","range","reload","entryList","renderStack","recursiveEntryRender","join","toLowerCase","DndSelectAdd","test","Boolean","reflectToAttribute","options","Array","observer","model","addCallback","Function","choices","Number","paren","placeholder","multiValue","disabled","listBox","remove","select","render","isArray","choiceArray","map","v","findIndex","o","source","filter","selectedValues","super","ready","async","root","document","createElement","setAttribute","addEventListener","e","opened","wasPreviouslySelected","srcElement","getAttribute","splice","selectedOptions","option","optionName","appendChild","_assignMenuElement","valueUpdated","connectedCallback","selectChangeHandler","val","selected","disconnectedCallback","removeEventListener","DndCharacterBuilderEquipmentItemDetail","isEditMode","hasRenderedOutput","hasAC","armorAC","isArmor","isMartial","weaponMagicModifier","itemRarity","itemName","itemWeight","weaponProperties","itemResist","itemQuantity","Object","storedItem","itemType","smallRender","itemTypes","rarityTypes","damageTypes","resistTypes","weaponPropertyOptions","weaponPropertyValues","editModeHandler","detail","console","error","itemRef","lookupFailed","renderedOutput","_getItemType","weapon","parseInt","genericBonus","propStr","props","propObj","find","trim","canHaveResist","canHaveQuantity","quantity","canHaveSpell","ITEM_TYPE_JSON_TO_ABV","newType","isEquipped","isAttuned","hasQuantity","typeVal","key","rollDamageIndexAttr","rollDamageIndex","parsedMod","isNaN","propCodes","bind","parsedAC","parsedWeight","parseFloat","parsedQuantity","bools","bool"],"mappings":"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","file":"4.bundle.js","sourcesContent":["import { PolymerElement, html } from '@polymer/polymer';\nimport { MDCRipple } from '@material/ripple';\nimport { } from '@polymer/polymer/lib/elements/dom-if.js';\nimport \"./dnd-svg\";\n\nclass DndButton extends PolymerElement {\n  static get properties() {\n    return {\n      label: {\n        type: String,\n        value: ''\n      },\n      icon: {\n        type: String,\n        value: ''\n      },\n      svg: {\n        type: String,\n        value: ''\n      },\n      background: {\n        type: String,\n        value: ''\n      },\n      border: {\n        type: String,\n        value: ''\n      },\n      svgFill: {\n        type: String,\n        value: ''\n      },\n      svgStroke: {\n        type: String,\n        value: ''\n      }\n    }\n  }\n\n  connectedCallback() {\n    setTimeout(()=> {\n      this.button = new MDCRipple(this.$.button);\n    }, 10)\n  }\n\n  _exists(i) {\n    return !!i;\n  }\n\n  _styleStr(background, border, label) {\n    let result = '';\n    if (background) {\n      result+= `background: ${background}; `\n    }\n    if (border) {\n      result+= `border: ${border}; `\n    }\n    return result;\n  }\n\n  _svgStyleStr(fill, stroke) {\n    let result = '';\n    if (fill) {\n      result+= `fill: ${fill}; `\n    }\n    if (stroke) {\n      result+= `stroke: ${stroke}; `\n    }\n    return result;\n  }\n\n  static get template() {\n    return html`\n      <style include=\"material-styles\">\n        .mdc-tab-scroller__scroll-area--scroll {\n          overflow-x: auto;\n          background-color: var(--mdc-theme-surface);\n          border: 1px solid var(--mdc-theme-text-divider-on-background);\n          border-bottom: none;\n        }\n        :host {\n          display: inline;\n          overflow: hidden;\n          white-space: nowrap;\n          border-radius: 6px;\n        }\n        .mdc-button {\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          width: 100%;\n        }\n        .mdc-button .mdc-button__icon {\n          margin-right: 0px;\n          margin-left: 8px;\n        }\n        .mdc-button [background] {\n          background: var(--lumo-contrast-10pct);\n        }\n        dnd-svg {\n          height: 20px;\n          width: 20px;\n          flex-shrink: 0;\n          flex-grow: 0;\n          padding-left: 8px;\n          fill: var(--mdc-theme-primary);\n          stroke: var(--mdc-theme-primary);\n        }\n        i {\n          flex-shrink: 0;\n          flex-grow: 0;\n        }\n\n        \n        :host(.btn-field__btn) dnd-svg {\n          padding-left: 0;\n        }\n        :host(.btn-field__btn) i {\n          margin-left: 0;\n        }\n\n        :host(.icon-only) dnd-svg {\n          margin-left: -24px;\n          padding-left: 0;\n        }\n        :host(.icon-only) i {\n          margin-left: 0;\n          padding-left: 0;\n        }\n        :host(.hard-left) i {\n          margin-left: -24px;\n        }\n\n        :host(.link) .mdc-button__label {\n          text-transform: none;\n          color: var(--lumo-body-text-color);\n          letter-spacing: normal;\n        }\n        :host(.link) i {\n          color: var(--lumo-body-text-color);\n        }\n        :host(.link) button:hover::before {\n          background: none;\n        }\n        :host(.link) button:hover i,\n        :host(.link) button:hover .mdc-button__label {\n          color: var(--mdc-theme-secondary);\n        }\n\n        :host([edit-mode]) button {\n          background-color: var(--mdc-theme-secondary);\n          color: var(--mdc-theme-on-secondary)\n        }\n        :host([edit-mode]) .mdc-button__label {\n          color: var(--mdc-theme-on-primary);\n        }\n        :host([edit-mode]) i {\n          color: var(--mdc-theme-on-primary);\n        }\n        :host([edit-mode]) button:hover i,\n        :host([edit-mode]) button:hover .mdc-button__label {\n          color: var(--mdc-theme-on-secondary);\n        }\n\n        :host([not-edit-mode]) button {\n          background-color: var(--mdc-theme-primary);\n          color: var(--mdc-theme-on-primary);\n        }\n        :host([not-edit-mode]) .mdc-button__label {\n          color: var(--mdc-theme-on-primary);\n        }\n        :host([not-edit-mode]) i {\n          color: var(--mdc-theme-on-primary);\n        }\n        :host([not-edit-mode]) button:hover i,\n        :host([not-edit-mode]) button:hover .mdc-button__label {\n          color: var(--mdc-theme-on-primary);\n        }\n\n      </style>\n      <button id=\"button\" class=\"mdc-button\" style$=\"[[_styleStr(background, border, label)]]\">\n        <div class=\"mdc-button__ripple\"></div>\n        <span class=\"mdc-button__label\">[[label]]</span>\n        <slot name=\"label\"></slot>\n        <template is=\"dom-if\" if=\"[[_exists(icon)]]\">\n          <i class=\"material-icons mdc-button__icon\" aria-hidden=\"true\">[[icon]]</i>\n        </template>\n        <template is=\"dom-if\" if=\"[[_exists(svg)]]\">\n          <dnd-svg id=\"[[svg]]\" style$=\"[[_svgStyleStr(svgFill, svgStroke)]]\"></dnd-svg>\n        </template>\n      </button>\n    `;\n  }\n\n}\ncustomElements.define('dnd-button', DndButton);","import EntryRenderer from '../util/entryrender.js';\r\nimport Parser from '../util/Parser.js';\r\nimport { cloneDeep, utils_makeRoller } from '../js/utils.js';\r\n\r\nconst stats_wrapper = `\r\n\t<div class=\"stats-wrapper margin-bottom_large\">\r\n\t\t<div class=\"margin-bottom_small\">\r\n\t\t\t<span class=\"type\"></span><span class=\"rarity\"></span>\r\n\t\t\t<span class=\"attunement\"></span>\r\n\t\t</div>\r\n\t\t<div class=\"margin-bottom_small\">\r\n\t\t\t<span class=\"value\"></span><span class=\"weight\"></span>\r\n\t\t</div>\r\n\t\t<div class=\"margin-bottom_small\">\r\n\t\t\t<span class=\"damage\"></span>\r\n\t\t\t<span class=\"damageType\"></span>\r\n\t\t\t<span class=\"properties\"></span>\r\n\t\t</div>\r\n\t\t<div class=\"text\"></div>\r\n\t</div>`;\r\n\r\nconst renderer = new EntryRenderer();\r\nfunction renderSelection(item, rootEl, data, makeSmall) {\r\n\tadjustItem(item);\r\n\tconst wrap = rootEl.querySelector(\".selection-wrapper\") || rootEl;\r\n\twrap.innerHTML = stats_wrapper;\r\n\r\n\tif (makeSmall) {\r\n\t\twrap.querySelector('.stats-wrapper').classList.add('small');\r\n\t}\r\n\t\r\n\t// const sourceEl = rootEl.querySelector(\".stats-wrapper .source\")\r\n\t// const source = item.source;\r\n\t// const sourceFull = Parser.sourceJsonToFull(source);\r\n\t// sourceEl.innerHTML = (`<span class=\"source${item.source}\">${sourceFull},</span> page ${item.page}`);\r\n\r\n\trootEl.querySelector(\".stats-wrapper .value\").innerHTML = (item.value ? item.value+(item.weight ? \", \" : \"\") : \"\");\r\n\trootEl.querySelector(\".stats-wrapper .weight\").innerHTML = (item.weight ? item.weight+(item.weight == 1 ? \" lb.\" : \" lbs.\") : \"\");\r\n\trootEl.querySelector(\".stats-wrapper .rarity\").innerHTML = ((item.tier ? \", \"+item.tier : \"\")+(item.rarity ? \", \"+item.rarity : \"\"));\r\n\trootEl.querySelector(\".stats-wrapper .attunement\").innerHTML = (item.reqAttune ? item.reqAttune : \"\");\r\n\trootEl.querySelector(\".stats-wrapper .type\").innerHTML = (item.typeText);\r\n\r\n\trootEl.querySelector(\".stats-wrapper .damage\").innerHTML = (\"\");\r\n\trootEl.querySelector(\".stats-wrapper .damageType\").innerHTML = (\"\");\r\n\tconst type = item.type || \"\";\r\n\tif (item.weaponCategory) {\r\n\t\tif (item.damages && item.damages.length) {\r\n\t\t\tfor (let i = 0; i < item.damages.length; i++) {\r\n\t\t\t\tconst damage = item.damages[i];\r\n\t\t\t\tconst isLast = i === item.damages.length - 1;\r\n\t\t\t\tif (damage.roll && damage.type) {\r\n\t\t\t\t\trootEl.querySelector(\".stats-wrapper .damage\").innerHTML += `<span>${utils_makeRoller(damage.roll)} ${Parser.dmgTypeToFull(damage.type)}</span>${isLast ? '': ' + '}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(item.dmg1) rootEl.querySelector(\".stats-wrapper .damage\").innerHTML = (utils_makeRoller(item.dmg1));\r\n\t\t\tif(item.dmgType) rootEl.querySelector(\".stats-wrapper .damageType\").innerHTML = (Parser.dmgTypeToFull(item.dmgType));\r\n\t\t}\r\n\t} else if (type === \"LA\" ||type === \"MA\"|| type === \"HA\") {\r\n\t\trootEl.querySelector(\".stats-wrapper .damage\").innerHTML = (\"AC \"+item.ac+(type === \"LA\" ? \" + Dex\" : type === \"MA\" ? \" + Dex (max 2)\" : \"\"));\r\n\t} else if (type === \"S\") {\r\n\t\trootEl.querySelector(\".stats-wrapper .damage\").innerHTML = (\"AC +\"+item.ac);\r\n\t} else if (type === \"MNT\" || type === \"VEH\") {\r\n\t\tconst speed = item.speed;\r\n\t\tconst capacity = item.carryingcapacity;\r\n\t\tif (speed) rootEl.querySelector(\".stats-wrapper .damage\").append(\"Speed=\"+speed);\r\n\t\tif (speed && capacity) rootEl.querySelector(\".stats-wrapper .damage\").append(type === \"MNT\" ? \", \" : \"<br/>\");\r\n\t\tif (capacity) {\r\n\t\t\trootEl.querySelector(\".stats-wrapper .damage\").append(\"Carrying Capacity=\"+capacity);\r\n\r\n\t\t\tif (capacity.indexOf(\"ton\") === -1 && capacity.indexOf(\"passenger\") === -1) {\r\n\t\t\t\trootEl.querySelector(\".stats-wrapper .damage\").append(capacity == 1 ? \" lb.\" : \" lbs.\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trootEl.querySelector(\".stats-wrapper .properties\").innerHTML = (\"\");\r\n\tif (item.property) {\r\n\t\tconst properties = item.property.split(\",\");\r\n\t\tfor (let i = 0; i < properties.length; i++) {\r\n\t\t\tconst prop = properties[i];\r\n\t\t\tlet a = window.itemPropertyList[prop].name;\r\n\t\t\tif (prop === \"V\" && item.dmg2) a = `${a} (${item.dmg2})`;\r\n\t\t\tif (prop === \"T\" || prop === \"A\" || prop === \"AF\") a = `${a} (${item.range}ft.)`;\r\n\t\t\tif (prop === \"RLD\") a = `${a} (${item.reload} shots)`;\r\n\t\t\ta = (i > 0 ? \", \" : item.dmg1 ? \"- \" : \"\") + a;\r\n\t\t\trootEl.querySelector(\".stats-wrapper .properties\").append(a);\r\n\t\t}\r\n\t}\r\n\r\n\tconst entryList = {type: \"entries\", entries: item.entries};\r\n\tconst renderStack = [];\r\n\trenderer.recursiveEntryRender(entryList, renderStack, 1);\r\n\trootEl.querySelector(\".stats-wrapper .text\").innerHTML = (utils_makeRoller(renderStack.join(\"\")).split(item.name.toLowerCase()).join(\"<i>\"+item.name.toLowerCase()+\"</i>\"));\r\n}\r\n\r\nfunction adjustItem(item) {\r\n\tif (item.hasParsed) {\r\n\t\treturn;\r\n\t}\r\n\titem.hasParsed = true;\r\n\tif (item.noDisplay) {\r\n\t\treturn;\r\n\t}\r\n\tif (item.type === \"GV\") {\r\n\t\titem.category = \"Generic Variant\";\r\n\t}\r\n\tif (item.category === undefined) {\r\n\t\titem.category = \"Other\";\r\n\t}\r\n\tif (item.entries === undefined) {\r\n\t\titem.entries = [];\r\n\t} else {\r\n\t\titem.entries = cloneDeep(item.entries);\r\n\t}\r\n\tif (item.type && window.itemTypeList[item.type]) {\r\n\t\tfor (let j = 0; j < window.itemTypeList[item.type].entries.length; j++) {\r\n\t\t\titem.entries.push(window.itemTypeList[item.type].entries[j]);\r\n\t\t}\r\n\t}\r\n\tif (item.property) {\r\n\t\tconst properties = item.property.split(\",\");\r\n\t\tfor (let j = 0; j < properties.length; j++) {\r\n\t\t\tif (window.itemPropertyList[properties[j]].entries) {\r\n\t\t\t\tfor (let k = 0; k < window.itemPropertyList[properties[j]].entries.length; k++) {\r\n\t\t\t\t\titem.entries.push(window.itemPropertyList[properties[j]].entries[k]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//The following could be encoded in JSON, but they depend on more than one JSON property; maybe fix if really bored later\r\n\tif (item.armor) {\r\n\t\tif (item.resist) {\r\n\t\t\titem.entries.push(\"You have resistance to \"+item.resist+\" damage while you wear this armor.\");\r\n\t\t}\r\n\t\tif (item.armor && item.stealth) {\r\n\t\t\titem.entries.push(\"The wearer has disadvantage on Stealth (Dexterity) checks.\");\r\n\t\t}\r\n\t\tif (item.type === \"HA\" && item.strength) {\r\n\t\t\titem.entries.push(\"If the wearer has a Strength score lower than \" + item.strength + \", their speed is reduced by 10 feet.\");\r\n\t\t}\r\n\t} else if (item.resist) {\r\n\t\tif (item.type === \"P\") {\r\n\t\t\titem.entries.push(\"When you drink this potion, you gain resistance to \"+item.resist+\" damage for 1 hour.\");\r\n\t\t}\r\n\t\tif (item.type === \"RG\") {\r\n\t\t\titem.entries.push(\"You have resistance to \"+item.resist+\" damage while wearing this ring.\");\r\n\t\t}\r\n\t}\r\n\tif (item.type === \"SCF\") {\r\n\t\tif (item.scfType === \"arcane\") {\r\n\t\t\titem.entries.push(\"An arcane focus is a special item designed to channel the power of arcane spells. A sorcerer, warlock, or wizard can use such an item as a spellcasting focus, using it in place of any material component which does not list a cost.\");\r\n\t\t}\r\n\t\tif (item.scfType === \"druid\") {\r\n\t\t\titem.entries.push(\"A druid can use such a druidic focus as a spellcasting focus, using it in place of any material component that does not have a cost.\");\r\n\t\t}\r\n\t\tif (item.scfType === \"holy\") {\r\n\t\t\titem.entries.push(\"A holy symbol is a representation of a god or pantheon.\");\r\n\t\t\titem.entries.push(\"A cleric or paladin can use a holy symbol as a spellcasting focus, using it in place of any material components which do not list a cost. To use the symbol in this way, the caster must hold it in hand, wear it visibly, or bear it on a shield.\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { renderSelection };","import { PolymerElement, html } from '@polymer/polymer';\nimport { mergeFeature } from '../util/charBuilder';\nimport { jqEmpty, util_capitalizeAll } from \"../js/utils\";\nimport \"@vaadin/vaadin-select\";\nimport {loadModel} from \"../util/data\";\n\nclass DndSelectAdd extends PolymerElement {\n  static get properties() {\n    return {\n      test: {\n        type: Boolean,\n        reflectToAttribute: true,\n        value: false\n      },\n      options: {\n        type: Array,\n        observer: \"optionsUpdated\"\n      },\n      model: {\n        type: String\n      },\n      addCallback: {\n        type: Function\n      },\n      value: {\n        type: String,\n        value: \"\",\n        observer: \"valueUpdated\"\n      },\n      choices: {\n        type: Number,\n        observer: \"choicesUpdated\"\n      },\n      paren: {\n        type: String,\n      },\n      label: {\n        type: String\n      },\n      placeholder: {\n        type: String,\n      },\n      multiValue: {\n        type: String,\n        value: \"\"\n      },\n      disabled: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      }\n    }\n  }\n\n  choicesUpdated() {\n    if (this.listBox) {\n      this.listBox.remove();\n      delete this.listBox;\n    }\n    this.$.select.render();\n  }\n\n  optionsUpdated() {\n    if (this.listBox) {\n      this.listBox.remove();\n      delete this.listBox;\n    }\n    this.$.select.render();\n  }\n\n  valueUpdated() {\n    if (this.choices) {\n      if (Array.isArray(this.value) && this.options) {\n        const choiceArray = this.value\n          .map(v => {\n            if (this.options.indexOf(v) !== -1) {\n              return this.options.indexOf(v);\n            } else {\n              return this.options.findIndex((o) => {\n                return o.name === v.name && o.source === v.source;\n              });\n            }\n          })\n          .filter(v => { return v !== -1 });\n\n        if (this.listBox) {\n          this.listBox.selectedValues = choiceArray;\n        }\n        this.multiValue = choiceArray.map(i => {\n          let value = this.options[i];\n          return value.name ? value.name : util_capitalizeAll(value) \n        }).join(\", \");\n      } else {\n        if (this.listBox) {\n          this.listBox.selectedValues = [];\n        }\n        this.multiValue = \"\";\n      }\n    } else {\n      if (this.value && this.options) {\n        if (this.value.source) {\n          this.$.select.value = this.options.findIndex(i => { return i.name === this.value.name && i.source === this.value.source || i === this.value.name }) + \"\";\n        } else if (this.value.name) {\n          this.$.select.value = this.options.findIndex(i => { return i.name === this.value.name || i === this.value.name }) + \"\";\n        } else {\n          this.$.select.value = this.options.findIndex(i => { return i.name === this.value || i === this.value }) + \"\";\n        }\n      } else {\n        this.$.select.value = \"\";\n      }\n    }\n  }\n\n  ready() {\n    super.ready();\n\n    setTimeout(async () => {\n      if (this.model) {\n        this.options = await loadModel(this.model);\n      }\n\n      this.$.select.renderer = (root, select) => {\n        if (!this.listBox) {\n          this.listBox = document.createElement('vaadin-list-box');\n\n          // setting up for multi-select\n          if (this.choices) {\n            this.listBox.setAttribute(\"multiple\", true);\n\n            this.listBox.addEventListener(\"click\", (e) => {\n              select.opened = true;\n              let wasPreviouslySelected = e.srcElement.getAttribute(\"selected\") !== null\n              setTimeout(() => {\n                if (this.listBox.selectedValues.length > this.choices\n                    && !wasPreviouslySelected) {\n                  this.listBox.selectedValues.splice(this.listBox.selectedValues.length - 2, 1)\n                }\n                let selectedOptions = this.listBox.selectedValues.map(v => { return this.options[v] });\n                this.multiValue = selectedOptions.map(o => { return o.name ? o.name : util_capitalizeAll(o) }).join(', ');\n                if (this.addCallback) {\n                  this.addCallback(selectedOptions);\n                }\n              }, 0);\n            });\n\n          }\n\n          // Adding options\n          if (this.options && this.options.length) {\n            for (let i = 0; i < this.options.length; i ++) {\n              const option = this.options[i],\n                item = document.createElement('vaadin-item');\n              const optionName = option.name || util_capitalizeAll(option);\n              item.innerHTML = `<span>${optionName}</span> ${option.name ? `<span style='font-size: 14px;color: var(--lumo-primary-color-50pct);'>${option.source}</span>` : ''}`\n              item.setAttribute(\"value\", i);\n              this.listBox.appendChild(item);\n            }\n          }\n          root.appendChild(this.listBox);\n          this.$.select._assignMenuElement();\n\n          this.valueUpdated();\n        }\n      };\n    }, 0);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.selectChangeHandler = () => {\n      const val = this.$.select.value;\n      if (val) {\n        if (!this.choices) {\n          const selected = this.options[val];\n          if (this.addCallback) {\n            this.addCallback(selected, this.model);\n          } else {\n            mergeFeature(undefined, selected, this.model);\n          }\n          if (!this.value) {\n            this.$.select.value = \"\";\n          }\n        }\n      }\n    };\n\n    this.$.select.addEventListener(\"change\", this.selectChangeHandler);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.$.select.removeEventListener(\"change\", this.selectChangeHandler);\n  }\n\n  _exists(a) {\n    return !!a;\n  }\n\n  _label(label, choices, paren) {\n    let result = '';\n    if (label) {\n      result = label;\n      if (choices && choices !== 1 && choices !== 100) {\n        result += ` (pick ${choices})`;\n      }\n      if (paren) {\n        result += ` (${paren})`;\n      }\n    }\n    return result;\n  }\n  \n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: inline-block;\n        }\n        [slot=\"prefix\"] {\n          width: calc(100% - 46px);\n          padding: 12px;\n          line-height: 1.4;\n        }\n        vaadin-select {\n          width: 100%;\n        }\n        .prefix {\n          white-space: normal;\n          color: var(--lumo-body-text-color);\n        }\n      </style>\n      <vaadin-select test$=\"[[test]]\" theme=\"dark\" add id=\"select\" label=\"[[_label(label, choices, paren)]]\" placeholder=\"[[placeholder]]\" disabled$=\"[[disabled]]\">\n        <div hidden$=\"[[!_exists(multiValue)]]\" slot=\"prefix\">\n          <span class=\"prefix\">[[multiValue]]</span>\n        </div>\n      </vaadin-select>\n      \n    `;\n  }\n}\ncustomElements.define('dnd-select-add', DndSelectAdd);","import { PolymerElement, html } from \"@polymer/polymer\";\nimport {\n  setItem\n} from \"../../../util/charBuilder\";\nimport { getEditModeChannel, isEditMode } from \"../../../util/editMode\";\nimport { renderSelection } from \"../../../js/items\";\nimport { DAMAGE_TYPES, RARITY_TYPES } from \"../../../util/consts\";\nimport { findInPath, util_capitalizeAll } from \"../../../js/utils\";\nimport \"@vaadin/vaadin-text-field/vaadin-text-field\";\nimport \"@vaadin/vaadin-text-field/vaadin-integer-field\";\nimport \"@vaadin/vaadin-text-field/vaadin-text-area\";\nimport Parser from '../../../util/Parser';\nimport \"../../dnd-select-add\";\nimport \"../../dnd-button\";\n\n\n//// BOONS\n// Resistance\n// DC+\n// Proficiency?\n// Spells known\nclass DndCharacterBuilderEquipmentItemDetail extends PolymerElement {\n  \n  static get properties() {\n    return {\n      isEditMode: {\n        type: Boolean,\n        value: false\n      },\n      hasRenderedOutput: {\n        type: Boolean,\n        value: false\n      },\n      hasAC: {\n        type: Boolean,\n        value: false\n      },\n      armorAC: {\n        type: Number,\n        value: 0\n      },\n      isArmor: {\n        type: Boolean,\n        value: false\n      },\n      isMartial: {\n        type: Boolean,\n        value: false\n      },\n      weaponMagicModifier: {\n        type: Number,\n        value: 0\n      },\n      itemRarity: {\n        type: String,\n      },\n      itemName: {\n        type: String,\n      },\n      itemWeight: {\n        type: Number,\n        value: 0\n      },\n      weaponProperties: {\n        type: Array,\n      },\n      itemResist: {\n        type: String,\n      },\n      itemQuantity: {\n        type: Number,\n        value: 0\n      },\n      item: {\n        type: Object\n      },\n      storedItem: {\n        type: Object\n      },\n      itemType: {\n        type: String,\n        value: ''\n      },\n      smallRender: {\n        type: Boolean,\n        reflectToAttribute: true,\n        value: false\n      }\n    };\n  }\n\n  static get observers() {\n    return [\n      '_itemChanged(item)'\n    ]\n  }\n\n  constructor() {\n    super();\n\n    this.itemTypes = [\n      'Currency',\n      'Armor (Light)',\n      'Armor (Medium)',\n      'Armor (Heavy)',\n      'Melee Weapon',\n      'Ranged Weapon',\n      'Shield',\n      'Adventuring Gear',\n      'Ammunition',\n      'Artisan Tool',\n      'Explosive',\n      'Gaming Set',\n      'Instrument',\n      'Mount',\n      'Potion',\n      'Rod',\n      'Ring',\n      'Scroll',\n      'Spellcasting Focus',\n      'Tool',\n      'Tack and Harness',\n      'Trade Good',\n      'Vehicle',\n      'Wand'\n    ];\n\n    this.rarityTypes = RARITY_TYPES;\n    this.damageTypes = DAMAGE_TYPES;\n    this.resistTypes = ['<None>', ...DAMAGE_TYPES];\n    this.weaponPropertyOptions = [\n      { name: 'Two-Handed', value: '2H' },\n      { name: 'Ammunition', value: 'A' },\n      { name: 'Finesse', value: 'F' },\n      { name: 'Heavy', value: 'H' },\n      { name: 'Light', value: 'L' },\n      { name: 'Loading', value: 'LD' },\n      { name: 'Reach', value: 'R' },\n      { name: 'Reload', value: 'RLD' },\n      { name: 'Special', value: 'S' },\n      { name: 'Thrown', value: 'T' },\n      { name: 'Versatile', value: 'V' },\n    ]\n    this.weaponPropertyValues = [\n      'Two-Handed',\n      'Ammunition',\n      'Finesse',\n      'Heavy',\n      'Light',\n      'Loading',\n      'Reach',\n      'Reload',\n      'Special',\n      'Thrown',\n      'Versatile'\n    ]\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.editModeHandler = (e) => {\n      this.isEditMode = e.detail.isEditMode;\n    }\n    getEditModeChannel().addEventListener('editModeChange', this.editModeHandler);\n    this.isEditMode = isEditMode();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    getEditModeChannel().removeEventListener('editModeChange', this.editModeHandler);\n  }\n\n  _itemChanged() {\n    if (!this.item) {\n      return;\n    }\n    console.error('itemDetail:', this.item);\n\n    if (this.item.itemRef && !this.item.lookupFailed) {\n      this.hasRenderedOutput = true;\n      renderSelection(this.item, this.$.renderedOutput, undefined, this.smallRender);\n    } else {\n      this.hasRenderedOutput = false;\n    }\n    this.itemType = this._getItemType();\n    this.hasAC = this.item.type === 'S' || !!this.item.armor;\n    if (this.hasAC) {\n      this.armorAC = this.item.ac;\n    }\n    this.isArmor = !!this.item.armor;\n    this.isMartial = this.item.weaponCategory === 'Martial';\n    if (this.item.weapon) {\n      this.weaponMagicModifier = parseInt(this.item.genericBonus, 10);\n      const propStr = this.item.property;\n      if (propStr) {\n        const props = propStr.split(',').map(prop => {\n          const propObj = this.weaponPropertyOptions.find((option) => option.value === prop.trim());\n          if (propObj) {\n            return propObj.name;\n          }\n        }).filter(prop => !!prop);\n        this.weaponProperties = props;\n        if (!this.item.damages) {\n          if (this.item.dmg1) {\n            this.item.storedItem.damages = [{roll: this.item.dmg1, type: util_capitalizeAll(Parser.dmgTypeToFull(this.item.dmgType))}];\n          } else {\n            this.item.storedItem.damages = [];\n          }\n        }\n      }\n    }\n    this.itemRarity = this.item.rarity;\n    this.itemName = this.item.name;\n    this.itemWeight = this.item.weight;\n    this.canHaveResist = this.item.armor || this.item.type === 'P' || this.item.type === 'RG';\n    this.itemResist = this.item.resist;\n    this.canHaveQuantity = this.item.type === 'P' || this.item.type === 'A' || this.item.type === 'EXP';\n    this.itemQuantity = this.item.quantity;\n    this.canHaveSpell = this.item.type === 'SC';\n\n    if (this.item.storedItem) {\n      this.storedItem = this.item.storedItem;\n    }\n  }\n\n  _getItemType() {\n    if (this.item) {\n      return Parser.ITEM_TYPE_JSON_TO_ABV[this.item.type];  \n    }\n    return '';\n  }\n\n  _selectItemType() {\n    const newType = this.root.querySelector('#typeSelect').value\n    this.storedItem.armor = false;\n    this.storedItem.weapon = false;\n    this.storedItem.type = '';\n    this.storedItem.isEquipped = false;\n    this.storedItem.isAttuned = false;\n\n    switch (newType) {\n      case 'Armor (Light)':\n        this.storedItem.armor = true;\n        this.storedItem.weaponCategory = null;\n        this.storedItem.type = 'LA';\n        break;\n      case 'Armor (Medium)':\n        this.storedItem.armor = true;\n        this.storedItem.weaponCategory = null;\n        this.storedItem.type = 'MA';\n        break;\n      case 'Armor (Heavy)':\n        this.storedItem.armor = true;\n        this.storedItem.weaponCategory = null;\n        this.storedItem.type = 'HA';\n        break;\n      case 'Ranged Weapon':\n        this.storedItem.weapon = true;\n        this.storedItem.weaponCategory = 'Simple';\n        this.storedItem.type = 'R';\n        this.storedItem.resist = null;\n        break;\n      case 'Melee Weapon':\n        this.storedItem.weapon = true;\n        this.storedItem.weaponCategory = 'Simple';\n        this.storedItem.type = 'M';\n        this.storedItem.resist = null;\n        break;\n      case 'Shield':\n        this.storedItem.type = 'S';\n        this.storedItem.weaponCategory = null;\n        this.storedItem.ac = 2;\n        this.storedItem.resist = null;\n        break;\n      case 'Adventuring Gear':\n        this.storedItem.weaponCategory = null;\n        this.storedItem.type = 'G';\n        this.storedItem.resist = null;\n        break;\n      case 'Currency':\n        this.storedItem.weaponCategory = null;\n        this.storedItem.type = '$'\n        this.storedItem.resist = null;\n        this.storedItem.quantity = 1;\n        this.storedItem.hasQuantity = true;\n        break;\n      default:\n        const typeVal = Object.entries(Parser.ITEM_TYPE_JSON_TO_ABV).find(([key, value]) => value === newType);\n        if (typeVal) {\n          this.storedItem.type = typeVal[0];\n        }\n        if (newType !== 'P' || newType !== 'RG') {\n          this.storedItem.resist = null;\n        }\n        break;\n    }\n    if (!(this.storedItem.type === 'P' || this.storedItem.type === 'A' || this.storedItem.type === 'EXP' || this.storedItem.type === '$')) {\n      this.storedItem.hasQuantity = false;\n    }\n    setItem(this.item);\n  }\n\n  _updateItem() {\n    setItem(this.item);\n  }\n\n  _addDamage() {\n    if (!this.storedItem.damages) {\n      this.storedItem.damages = [];\n    }\n    this.storedItem.damages.push({roll: '', type: ''});\n    setItem(this.item);\n  }\n\n  _removeDamage(e) {\n    const rollDamageEl = findInPath('.roll__damage', e);\n    const rollDamageIndexAttr = rollDamageEl.getAttribute('index');\n    const rollDamageIndex = parseInt(rollDamageIndexAttr, 10);\n    this.storedItem.damages.splice(rollDamageIndex, 1);\n    setItem(this.item);\n  }\n\n  _changeWeaponType() {\n    if (this.item.weapon) {\n      if (this.isMartial) {\n        this.storedItem.weaponCategory = 'Martial';\n      } else {\n        this.storedItem.weaponCategory = 'Simple';\n      }\n      setItem(this.item);\n    }\n  }\n\n  _weaponMagicModifierChange() {\n    let parsedMod = parseInt(this.weaponMagicModifier, 10);\n\n    if (isNaN(parsedMod)) {\n      parsedMod = 0;\n    }\n    this.storedItem.genericBonus = parsedMod > 0 ? `+${parsedMod}` : parsedMod;\n    setItem(this.item);\n  }\n\n  _itemRarityChange() {\n    if (this.itemRarity) {\n      this.storedItem.rarity = this.itemRarity;\n      setItem(this.item);\n    }\n  }\n\n  _itemNameChange() {\n    if (this.itemName) {\n      this.storedItem.name = this.itemName;\n      setItem(this.item);\n    }\n  }\n\n  _addWeaponProperty() {\n    return ((props) => {\n      if (props && props.length) {\n        const propCodes = props.map((prop) => {\n          const propObj = this.weaponPropertyOptions.find((option) => option.name === prop.trim());\n          if (propObj) {\n            return propObj.value;\n          }\n        }).filter(prop => !!prop);\n        this.storedItem.property = propCodes.join(',');\n        setItem(this.item);\n      }\n    }).bind(this);\n  }\n\n  _armorACChange() {\n    let parsedAC = parseInt(this.armorAC, 10);\n\n    if (isNaN(parsedAC)) {\n      parsedAC = 0;\n    }\n    this.storedItem.ac = parsedAC;\n    setItem(this.item);\n  }\n\n  _itemWeightChange() {\n    let parsedWeight = parseFloat(this.itemWeight, 10);\n\n    if (isNaN(parsedWeight)) {\n      parsedWeight = 0;\n    }\n    this.storedItem.weight = parsedWeight;\n    setItem(this.item);\n\n  }\n\n  _itemResistChange() {\n    if (this.itemResist) {\n      this.storedItem.resist = this.itemResist === '<None>' ? null : this.itemResist;\n      setItem(this.item);\n    }\n  }\n\n  _itemQuantityChange() {\n    let parsedQuantity = parseInt(this.itemQuantity, 10);\n\n    if (isNaN(parsedQuantity)) {\n      parsedQuantity = 0;\n    }\n    this.storedItem.quantity = parsedQuantity;\n    this.storedItem.hasQuantity = true;\n    setItem(this.item);\n  }\n\n  _or(...bools) {\n    for (let bool of bools) {\n      if (bool) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static get template() {\n    return html`\n      <style include=\"material-styles my-styles\"></style>\n      <style>\n        :host {}\n        [hidden] {\n          display: none !important;\n        }\n\n        .edit__wrap {\n          margin-right: -10px;\n        }\n        .edit__name {\n          width: calc(65% - 10px);\n          padding-top: 0;\n        }\n        .edit__notes {\n          width: calc(100% - 10px);\n          min-height: 200px;\n        }\n        .edit__checkboxes {\n          display: flex;\n          flex-direction: column;\n          margin: 10px 10px 0 0;\n        }\n\n        .section_heading {\n          margin: 16px 0 0px;\n          font-size: 17px;\n          color: var(--mdc-theme-secondary);\n        }\n\n        .roll__damages {\n          display: flex;\n          flex-direction: column;\n        }\n        .roll__damage {\n          display: flex;\n          margin-right: 10px;\n        }\n        .roll__damage vaadin-text-field,\n        .roll__damage vaadin-select {\n          max-width: 100%;\n        }\n        .roll__damage-roll--edit,\n        .roll__damage-type--edit {\n          width: calc(50% - 40px);\n        }\n        .roll__damage-roll--edit {\n          margin: 0 16px;\n        }\n        .roll__damage-remove {\n          margin: auto -5px 4px;\n        }\n\n        dnd-switch {\n          margin: 10px auto 0;\n          display: block;\n        }\n\n        h2 {\n          margin-top: 0;\n          font-size: 16px;\n          font-weight: bold;\n          margin-bottom: 8px;\n        }\n\n        vaadin-checkbox {\n          width: fit-content;\n        }\n\n        vaadin-select {\n          max-width: calc(50% - 14px);\n        }\n        vaadin-number-field,\n        vaadin-integer-field {\n          width: calc(33% - 10px);\n        }\n        vaadin-text-field,\n        vaadin-text-area,\n        vaadin-integer-field,\n        vaadin-number-field,\n        vaadin-select {\n          margin-right: 10px;\n        }\n        dnd-select-add {\n          width: calc(66% - 22px);\n          margin-right: 10px;\n          margin-left: 10px;\n        }\n\n        .margin-bottom_large {\n          margin-bottom: 0 !important;\n        }\n\n        @media(min-width: 921px) {\n          h2 {\n            font-size: 24px;\n          }\n        }\n      </style>\n\n      <div hidden$=\"[[!item]]\">\n        <div hidden$=\"[[isEditMode]]\">\n          <div hidden$=\"[[!hasRenderedOutput]]\">\n            <h2>[[item.name]]</h4>\n            <div>[[item.notes]]</div>\n            <div hidden$=\"[[item.hideRef]]\" id=\"renderedOutput\"></div>\n          </div>\n\n          <div hidden$=\"[[hasRenderedOutput]]\">\n            <h2>[[item.name]]</h4>\n            <div>[[item.notes]]</div>\n          </div>\n        </div>\n\n        <template is=\"dom-if\" if=\"[[isEditMode]]\">\n          <div class=\"edit__wrap\">\n            <vaadin-text-field class=\"edit__name\" theme=\"label--secondary\" value=\"{{itemName}}\" label=\"Name\" on-change=\"_itemNameChange\"></vaadin-text-field>\n            <vaadin-number-field theme=\"label--secondary\" has-controls value=\"{{itemWeight}}\" label=\"Weight\" min=\"0\" on-change=\"_itemWeightChange\"></vaadin-number-field>\n\n            <vaadin-select id=\"typeSelect\" value=\"[[itemType]]\" on-change=\"_selectItemType\" label=\"Type\" >\n              <template>\n                <vaadin-list-box>\n                  <template is=\"dom-repeat\" items=\"[[itemTypes]]\">\n                    <vaadin-item>[[item]]</vaadin-item>\n                  </template>\n                </vaadin-list-box>\n              </template>\n            </vaadin-select>\n\n            <vaadin-select id=\"raritySelect\" value=\"{{itemRarity}}\" on-change=\"_itemRarityChange\" label=\"Rarity\" >\n              <template>\n                <vaadin-list-box>\n                  <template is=\"dom-repeat\" items=\"[[rarityTypes]]\">\n                    <vaadin-item>[[item]]</vaadin-item>\n                  </template>\n                </vaadin-list-box>\n              </template>\n            </vaadin-select>\n\n            <div class=\"edit__weapon\" hidden$=\"[[!item.weapon]]\">\n              <h4 class=\"section_heading\">Weapon</h4>\n              <dnd-select-add choices=\"100\" label=\"Weapon Properties\" options=\"[[weaponPropertyValues]]\" value=\"[[weaponProperties]]\" add-callback=\"[[_addWeaponProperty()]]\"></dnd-select-add>\n              <vaadin-integer-field theme=\"label--secondary\"  min=\"0\" max=\"5\" has-controls value=\"{{weaponMagicModifier}}\" label=\"Magic Modifier\" on-change=\"_weaponMagicModifierChange\"></vaadin-integer-field>\n              <dnd-switch label='Simple Weapon' secondary-label='Martial Weapon' initial-value=\"[[isMartial]]\" checked={{isMartial}} on-switch-change=\"_changeWeaponType\" ></dnd-switch>\n\n              <template is=\"dom-repeat\" items=\"[[storedItem.damages]]\" as=\"damage\">\n                <div class=\"roll__damage\" index$=\"[[index]]\">\n                  <dnd-button on-click=\"_removeDamage\" icon=\"remove\" class='roll__damage-remove icon-only'></dnd-button>\n                  <div class=\"roll__damage-roll--edit\">\n                    <vaadin-text-field theme=\"label--secondary\" value=\"{{damage.roll}}\" on-change=\"_updateItem\" label=\"Damage Roll\"></vaadin-text-field>\n                  </div>\n                  <div class=\"roll__damage-type--edit\">\n                    <vaadin-select value=\"{{damage.type}}\" on-change=\"_updateItem\" label=\"Damage Type\" >\n                      <template>\n                        <vaadin-list-box>\n                          <template is=\"dom-repeat\" items=\"[[damageTypes]]\">\n                            <vaadin-item>[[item]]</vaadin-item>\n                          </template>\n                        </vaadin-list-box>\n                      </template>\n                    </vaadin-select>\n                  </div>\n                </div>\n              </template>\n              <dnd-button on-click=\"_addDamage\" label=\"Add Damage\" icon=\"add\" class=\"roll__add-damage\"></dnd-button>\n            </div>\n\n            <vaadin-integer-field theme=\"label--secondary\"  hidden$=\"[[!hasAC]]\" min=\"0\" max=\"30\" has-controls value=\"{{armorAC}}\" label=\"AC\" on-change=\"_armorACChange\"></vaadin-integer-field>\n            \n            <vaadin-integer-field theme=\"label--secondary\"  hidden$=\"[[!item.hasQuantity]]\" min=\"0\" has-controls value=\"{{itemQuantity}}\" label=\"Quantity\" on-change=\"_itemQuantityChange\"></vaadin-integer-field>\n\n            <!-- <vaadin-select hidden$=\"[[!canHaveResist]]\" value=\"{{itemResist}}\" on-change=\"_itemResistChange\" label=\"Resistance\">\n              <template>\n                <vaadin-list-box>\n                  <template is=\"dom-repeat\" items=\"[[resistTypes]]\">\n                    <vaadin-item>[[item]]</vaadin-item>\n                  </template>\n                </vaadin-list-box>\n              </template>\n            </vaadin-select> -->\n\n            <div class=\"edit__checkboxes\">\n              <vaadin-checkbox hidden$=\"[[!canHaveQuantity]]\" checked=\"{{storedItem.hasQuantity}}\" on-change=\"_updateItem\">Has Quantity</vaadin-checkbox>\n              <vaadin-checkbox hidden$=\"[[!isArmor]]\" checked=\"{{storedItem.stealth}}\" on-change=\"_updateItem\">Disadvantage on Stealth</vaadin-checkbox>\n              <vaadin-checkbox checked=\"{{storedItem.reqAttune}}\" on-change=\"_updateItem\">Requires Attunement</vaadin-checkbox>\n              <vaadin-checkbox checked=\"{{storedItem.wondrous}}\" on-change=\"_updateItem\">Wondrous</vaadin-checkbox>\n              <vaadin-checkbox hidden$=\"[[!storedItem.itemRef]]\" checked=\"{{storedItem.hideRef}}\" on-change=\"_updateItem\">Hide Reference</vaadin-checkbox>\n            </div>\n\n            <vaadin-text-area  theme=\"label--secondary\" class=\"edit__notes\" value=\"{{storedItem.notes}}\" label=\"Notes\" on-change=\"_updateItem\"></vaadin-text-area>\n          </div>\n        </template>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define(\"dnd-character-builder-equipment-item-detail\", DndCharacterBuilderEquipmentItemDetail);"],"sourceRoot":""}